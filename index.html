<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>無題ドキュメント</title>
<style>
* {
  margin: 0;
}
body {
  height: 800px;
  background: yellow;
  margin-top: 500px;
}
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 200px;
  background: white;
/*  transition: .5s;*/
  text-align: center;
  line-height: 250px;
}
.scroll_fix_height {
  height: 100px;
  line-height: 100px;
/*  transition: .5s;*/
}


.topbar_bk{
position: fixed;
width: 100%;
top: 100px;
/*background: rgba(255,0,0,0.5);*/
height: 500px;
/*line-height: 250px;*/
text-align: center;
font-size: 64px;
/*transition: .5s;*/
}
.topbar_bk_scroll{
position: fixed;
width: 100%;
top: 24px;
/*background: rgba(255,0,0,0.5);*/
height: 100px;
/*line-height: 250px;*/
text-align: center;
font-size: 16px;
/*transition: .5s;*/
}

.next{
height: 1000px;
}
/*スクロールができるように高さを出しているだけ*/
</style>

</head>
<body>
<div id="topbar" class="topbar"></div>
<div id="topbar_bk" class="topbar_bk"><h1>LLOOGGOO</h1></div>
<div class="next">スクロールした<span id="scroll">0</span></div>
<script>
  window.addEventListener('load',(event) =>{
  window.addEventListener('scroll',(event) =>{
  var y = window.pageYOffset;
  var scroll = document.getElementById('scroll');
  scroll.innerHTML = "<span>"+y+"</span>";
  function map(value, start1, end1, start2, end2) {
  return start2 + (end2 - start2) * ((value - start1) / (end1 - start1));
}

if(y < 100 ){
//スクロール100になったら戻す　＝remove
console.log("100以下！")
var topbar = document.getElementById("topbar").classList.remove("scroll_fix_height");
var topbar_bk = document.getElementById("topbar_bk").classList.remove("topbar_bk_scroll");
}
else if(y >= 100 && y <= 200){
//else if(y >= 100 ){
//スクロール100以上200以下は、スクロールに応じてサイズを変更したい

//  トップバーのheight = height -( scroll - 100 );
var bar_height = 200-(y-100);
//　バー高さ100〜200に合わせて、ロゴ文字サイズを１６−６４の中で変わる。
var logo_size = map(bar_height, 100, 200, 16, 64);
var logo_top = map(bar_height, 100, 200, 24, 100);
//現在のロゴサイズを指定しているクラスの情報を取得
var topbar_logo = document.getElementById("topbar_bk");
//その情報の中のスタイルシートのフォントサイズを上で求めた文字サイズにする
topbar_logo.style.fontSize = logo_size+"px";
topbar_logo.style.top = logo_top+"px";

var topbar = document.getElementById("topbar");
topbar.style.height = bar_height+"px";

}
else if( y > 200 ){
//スクロール２００以上ならになったら固定
var topbar = document.getElementById("topbar").classList.add("scroll_fix_height");
var topbar_bk = document.getElementById("topbar_bk").classList.add("topbar_bk_scroll")
console.log("２00以上！！！")
}

});
});

</script>
</body>
</html>
