<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>無題ドキュメント</title>
<style>
* {
  margin: 0;
}
body {
  height: 800px;
  background: yellow;
  margin-top: 500px;
}
.topbar {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 300px;
  background: white;
  text-align: center;
  line-height: 250px;
}

.topbar_bk{
position: fixed;
width: 100%;
top: 200px;
text-align: center;
font-size: 64px;
}


.next{
height: 1000px;
}
/*スクロールができるように高さを出しているだけ*/
</style>

</head>
<body>
<div id="topbar" class="topbar"></div>
<div id="topbar_bk" class="topbar_bk"><h1>LLOOGGOO</h1></div>
<div class="next">スクロールした<span id="scroll">0</span></div>
<script>
  window.addEventListener('load',(event) =>{
  window.addEventListener('scroll',(event) =>{
  var y = window.pageYOffset;
  var scroll = document.getElementById('scroll');
  scroll.innerHTML = "<span>"+y+"</span>";
  function map(value, start1, end1, start2, end2) {
  return start2 + (end2 - start2) * ((value - start1) / (end1 - start1));
}

if(y < 0){

//　マイナススクロールに合わせて、ロゴ文字サイズを６４ー128の中で変わる。
var logo_size = map(y, -1, -50, 64, 128);
var logo_top = map(y, -1, -50, 200, 249);
//現在のロゴサイズを指定しているクラスの情報を取得
var topbar_logo = document.getElementById("topbar_bk");
//その情報の中のスタイルシートのフォントサイズを上で求めた文字サイズにする
topbar_logo.style.fontSize = logo_size+"px";
topbar_logo.style.top = logo_top+"px";


}
else if(y == 0){
    // スクロール0のときはデフォルトバーの高さ300pxに直す
    var topbar = document.getElementById("topbar");
topbar.style.height = "300px";
var topbar_logo = document.getElementById("topbar_bk");
//その情報の中のスタイルシートのフォントサイズを上で求めた文字サイズにする
topbar_logo.style.fontSize = "64px";
topbar_logo.style.top = "200px";

}
else if(y > 0 && y <= 200){
// スクロール量1-200の間で，ロゴサイズ，バーの高さを変化させる

var bar_height = 300-y;
//　バー高さ0〜200に合わせて、ロゴ文字サイズを１６−６４の中で変わる。
var logo_size = map(bar_height, 100, 300, 16, 64);
var logo_top = map(bar_height, 100, 300, 24, 200);
//現在のロゴサイズを指定しているクラスの情報を取得
var topbar_logo = document.getElementById("topbar_bk");
//その情報の中のスタイルシートのフォントサイズを上で求めた文字サイズにする
topbar_logo.style.fontSize = logo_size+"px";
topbar_logo.style.top = logo_top+"px";

var topbar = document.getElementById("topbar");
topbar.style.height = bar_height+"px";

}

});
});

</script>
</body>
</html>
